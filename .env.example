# ============================================
# Research Agent - Environment Configuration
# ============================================
# Copy this file to .env and fill in your actual keys
# NEVER commit .env to git - it's in .gitignore


# ============================================
# REQUIRED: Core API Keys
# ============================================

# Google Gemini API Key (REQUIRED for LLM operations)
# Get it from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# LangSmith API Key (REQUIRED for LangGraph tracing)
# Get it from: https://smith.langchain.com/
LANGSMITH_API_KEY=your_langsmith_api_key_here


# ============================================
# SMS Integration (Africa's Talking)
# ============================================

# Africa's Talking credentials (REQUIRED if using SMS)
# Get it from: https://account.africastalking.com/
AT_USERNAME=your_africas_talking_username
AT_API_KEY=your_africas_talking_api_key

# Optional: Webhook secret for validating SMS webhooks
AT_WEBHOOK_SECRET=your_webhook_secret_here


# ============================================
# SEARCH PROVIDER CONFIGURATION
# ============================================
# Choose ONE of the following configurations:

# Option 1: Mock Search (Development/Testing - No API key needed)
# SEARCH_PROVIDER=mock

# Option 2: Gemini with Google Search (RECOMMENDED FOR MVP - Uses GEMINI_API_KEY above)
SEARCH_PROVIDER=gemini
# No additional keys needed! Uses GEMINI_API_KEY

# Option 3: SerpAPI (Production - Requires SerpAPI key)
# SEARCH_PROVIDER=serpapi
# SEARCH_API_KEY=your_serpapi_key_here
# Get it from: https://serpapi.com/manage-api-key

# Option 4: Brave Search (Production - Requires Brave key)
# SEARCH_PROVIDER=brave
# SEARCH_API_KEY=your_brave_api_key_here
# Get it from: https://brave.com/search/api/

# Option 5: Google Custom Search (Production - Requires 2 values)
# SEARCH_PROVIDER=google
# SEARCH_API_KEY=your_google_api_key_here
# SEARCH_ENGINE_ID=your_custom_search_engine_id_here
# Setup guide: https://developers.google.com/custom-search/v1/overview


# ============================================
# Database Configuration
# ============================================

POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=research
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here


# ============================================
# Cache Configuration
# ============================================

REDIS_URL=redis://redis:6379/0


# ============================================
# Application Settings
# ============================================

APP_ENV=development  # development, staging, production
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=info       # debug, info, warning, error, critical

APP_NAME=Research Agent API
APP_VERSION=1.0.0


# ============================================
# LLM Configuration
# ============================================

LLM_MODEL=gemini-1.5-pro
LLM_TEMPERATURE=0.7
MAX_TOKENS=2048


# ============================================
# Research Agent Settings
# ============================================

MAX_SEARCH_RESULTS=10
MAX_REFLECTION_ITERATIONS=3


# ============================================
# Security & Safety Settings
# ============================================

ENABLE_PII_FILTER=true
ENABLE_TOXICITY_FILTER=true
ENABLE_HALLUCINATION_CHECK=true
ENABLE_BIAS_DETECTION=true
ENABLE_PROMPT_INJECTION_CHECK=true


# ============================================
# Rate Limiting
# ============================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600  # seconds (1 hour)


# ============================================
# Feature Flags
# ============================================

ENABLE_SMS=true
ENABLE_CACHING=true
ENABLE_METRICS=true


# ============================================
# QUICK START CONFIGURATIONS
# ============================================

# Configuration 1: Development (No external APIs)
# --------------------------------------------------
# SEARCH_PROVIDER=mock
# GEMINI_API_KEY=your_gemini_key
# LANGSMITH_API_KEY=your_langsmith_key
# AT_USERNAME=sandbox
# AT_API_KEY=sandbox
# POSTGRES_PASSWORD=dev_password


# Configuration 2: MVP Demo (Minimal setup)
# --------------------------------------------------
# SEARCH_PROVIDER=gemini
# GEMINI_API_KEY=your_gemini_key
# LANGSMITH_API_KEY=your_langsmith_key
# AT_USERNAME=your_at_username
# AT_API_KEY=your_at_key
# POSTGRES_PASSWORD=secure_password


# Configuration 3: Production (Full features)
# --------------------------------------------------
# SEARCH_PROVIDER=serpapi  # or brave
# SEARCH_API_KEY=your_search_api_key
# GEMINI_API_KEY=your_gemini_key
# LANGSMITH_API_KEY=your_langsmith_key
# AT_USERNAME=your_at_username
# AT_API_KEY=your_at_key
# AT_WEBHOOK_SECRET=your_webhook_secret
# POSTGRES_PASSWORD=strong_production_password
# APP_ENV=production
# LOG_LEVEL=warning


# ============================================
# Frontend Configuration
# ============================================

# Frontend port (default: 3000 for production, 5173 for dev)
FRONTEND_PORT=3000

# Backend API URL (for frontend to connect)
# Development: http://localhost:8000
# Production: Your deployed backend URL
VITE_API_URL=http://localhost:8000

# Frontend environment
NODE_ENV=development


# ============================================
# NOTES
# ============================================

# 1. SEARCH_PROVIDER determines which search API is used:
#    - mock: No API key needed, returns fake data
#    - gemini: Uses GEMINI_API_KEY (no separate search key)
#    - serpapi: Requires SEARCH_API_KEY (SerpAPI)
#    - brave: Requires SEARCH_API_KEY (Brave)
#    - google: Requires SEARCH_API_KEY + SEARCH_ENGINE_ID
#
# 2. You only need to uncomment and fill in the keys for
#    your chosen SEARCH_PROVIDER
#
# 3. For capstone/demo, "gemini" provider is recommended:
#    - Only needs one API key (GEMINI_API_KEY)
#    - No additional costs
#    - Good enough results for demos
#
# 4. For production, use serpapi or brave:
#    - Better search quality
#    - More control over results
#    - Dedicated search infrastructure
#
# 5. Keep this file secure and never commit to git!

# ============================================
# API Key Acquisition Links
# ============================================

# Gemini API: https://makersuite.google.com/app/apikey
# LangSmith: https://smith.langchain.com/
# Africa's Talking: https://account.africastalking.com/
# SerpAPI: https://serpapi.com/
# Brave Search: https://brave.com/search/api/
# Google Custom Search: https://developers.google.com/custom-search